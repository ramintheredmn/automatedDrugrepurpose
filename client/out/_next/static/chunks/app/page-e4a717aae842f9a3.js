(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6986:function(e,r,t){Promise.resolve().then(t.bind(t,8768))},8768:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return Home}});var s=t(7437),l=t(2265),a=t(9733),n=t(7042),i=t(3986);function cn(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,i.m)((0,n.W)(r))}let c=a.fC,d=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)(a.aV,{ref:r,className:cn("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...l})});d.displayName=a.aV.displayName;let o=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)(a.xz,{ref:r,className:cn("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...l})});o.displayName=a.xz.displayName;let f=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)(a.VY,{ref:r,className:cn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...l})});f.displayName=a.VY.displayName;let u=l.forwardRef((e,r)=>{let{className:t,type:l,...a}=e;return(0,s.jsx)("input",{type:l,className:cn("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...a})});u.displayName="Input";var h=t(7256),x=t(6061);let m=(0,x.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),g=l.forwardRef((e,r)=>{let{className:t,variant:l,size:a,asChild:n=!1,...i}=e,c=n?h.g7:"button";return(0,s.jsx)(c,{className:cn(m({variant:l,size:a,className:t})),ref:r,...i})});g.displayName="Button";var p=t(9222),b=t(2333);let j=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:r,className:cn("w-full caption-bottom text-sm",t),...l})})});j.displayName="Table";let v=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("thead",{ref:r,className:cn("[&_tr]:border-b",t),...l})});v.displayName="TableHeader";let N=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("tbody",{ref:r,className:cn("[&_tr:last-child]:border-0",t),...l})});N.displayName="TableBody";let y=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("tfoot",{ref:r,className:cn("bg-primary font-medium text-primary-foreground",t),...l})});y.displayName="TableFooter";let w=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("tr",{ref:r,className:cn("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...l})});w.displayName="TableRow";let _=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("th",{ref:r,className:cn("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...l})});_.displayName="TableHead";let k=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("td",{ref:r,className:cn("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...l})});k.displayName="TableCell";let S=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("caption",{ref:r,className:cn("mt-4 text-sm text-muted-foreground",t),...l})});S.displayName="TableCaption";var E=t(7283);let R=l.forwardRef((e,r)=>{let{className:t,children:l,...a}=e;return(0,s.jsxs)(E.fC,{ref:r,className:cn("relative overflow-hidden",t),...a,children:[(0,s.jsx)(E.l_,{className:"h-full w-full rounded-[inherit]",children:l}),(0,s.jsx)(C,{}),(0,s.jsx)(E.Ns,{})]})});R.displayName=E.fC.displayName;let C=l.forwardRef((e,r)=>{let{className:t,orientation:l="vertical",...a}=e;return(0,s.jsx)(E.gb,{ref:r,orientation:l,className:cn("flex touch-none select-none transition-colors","vertical"===l&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===l&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...a,children:(0,s.jsx)(E.q4,{className:cn("relative rounded-full bg-border","vertical"===l&&"flex-1")})})});C.displayName=E.gb.displayName;let fetcher=e=>p.Z.get(e).then(e=>e.data);function convertDrugsData(e){if(null==e)return[];let{Phase:r,S_method:t,SMILES_data:s,Molecule_ID:l,Score:a}=e,n=[];for(let e in s)if(s.hasOwnProperty(e)&&l.hasOwnProperty(e)&&t.hasOwnProperty(e)&&r.hasOwnProperty(e)&&a.hasOwnProperty(e)){let i={id:e,SMILES:s[e],moleculeId:l[e],score:a[e],S_method:t[e],Phase:r[e]};n.push(i)}return n}function Home(){var e;let r,t;let[a,n]=(0,l.useState)(""),[i,h]=(0,l.useState)(""),[x,m]=(0,l.useState)(""),[y,E]=(0,l.useState)(""),[C,O]=(0,l.useState)(""),[I,P]=(0,l.useState)(""),[T,L]=(0,l.useState)(""),[D,F]=(0,l.useState)(""),{data:z,error:V,isLoading:Z}=(0,b.ZP)(D?null:i&&"/api/target/".concat(i),fetcher,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1}),[H,B]=(0,l.useState)([]);console.log(z),(0,l.useEffect)(()=>{if(z){let e=function(e){let r=Object.keys(e.organism).map(r=>({organism:e.organism[r],pref_name:e.pref_name[r],target_chembl_id:e.target_chembl_id[r]}));return r}(z);B(e)}},[z]);let{data:M,error:Y,isLoading:q}=(0,b.ZP)(D?null:y&&"/api/".concat(i,"/pdb/").concat(y),fetcher,{revalidateIfStale:!1}),[A,W]=(0,l.useState)([]),{data:G,isLoading:J}=(0,b.ZP)(D?null:I&&"/api/pdb/".concat(I),fetcher,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1}),[K,Q]=(0,l.useState)(null),[U,X]=(0,l.useState)(null);(0,l.useEffect)(()=>{D&&p.Z.get("/api/smiles/".concat(D)).then(e=>{X(e.data.job_id)}).catch(e=>{console.error("Error triggering processing:",e)})},[D]),(0,l.useEffect)(()=>{if(U){let e=setInterval(()=>{p.Z.get("/api/results/".concat(U)).then(r=>{200===r.status&&(clearInterval(e),Q(r.data))}).catch(r=>{clearInterval(e),console.error("Error fetching result:",r)})},5e3);return()=>clearInterval(e)}},[U]);let[$,ee]=(0,l.useState)([]);return(0,l.useEffect)(()=>{if(K){let e=convertDrugsData(K);e.sort((e,r)=>parseFloat(r.score)-parseFloat(e.score)),ee(e)}},[K]),(0,l.useEffect)(()=>{if(M){let e=function(e){if(!e.pdb_id)return[];let r=Object.keys(e.pdb_id).map(r=>({pdb_id:e.pdb_id[r],method:e.method[r],resolution:e.resolution[r],length:e.length[r],num_chains:e.num_chains[r]}));return r}(M);e.sort((e,r)=>{let t=parseFloat(e.resolution),s=parseFloat(r.resolution),l=parseFloat(e.length),a=parseFloat(r.length);return isNaN(t)?1:isNaN(s)||l>a?-1:l<a?1:t<s?-1:t>s?1:0}),W(e)}},[M]),console.log(convertDrugsData(K)),Z&&(r=(0,s.jsx)("div",{children:"Loading..."})),V&&(r=(0,s.jsxs)("div",{children:["Error: ",V.message]})),q&&(t=(0,s.jsx)("div",{children:"Loading..."})),Y&&(t=(0,s.jsxs)("div",{children:["Error: ",Y.message]})),console.log(K),console.log($),(0,s.jsx)("main",{className:"flex h-3/4 max-w-screen flex-col items-center font-serif",children:(0,s.jsxs)(c,{defaultValue:"etarget",className:" p-10 flex flex-col overflow-x-visible",children:[(0,s.jsx)(d,{className:" font-extralight border-black",children:(0,s.jsxs)(R,{className:"border-black",children:[(0,s.jsx)(o,{value:"etarget",children:"Enter Target"}),(0,s.jsx)(o,{value:"ctarget",children:"choose one"}),(0,s.jsx)(o,{value:"cpdb",children:"Choose pdb"}),(0,s.jsx)(o,{value:"ligands",children:"Select ligands"}),(0,s.jsx)(o,{value:"drugs",children:"result"})]})}),(0,s.jsx)(f,{value:"etarget",children:(0,s.jsxs)("div",{className:"mt-4 flex flex-col",children:[(0,s.jsx)("p",{className:"text-center",children:"Enter target name "}),(0,s.jsx)(u,{className:"w-25 border-slate-950",placeholder:"Enter target",value:a,onChange:e=>n(e.target.value)}),(0,s.jsx)(g,{className:"flex-none",size:"sm",onClick:()=>h(a),children:"submit"})]})}),(0,s.jsxs)(f,{className:" flex flex-col itmes-center mt-4",value:"ctarget",children:[i?r||(0,s.jsxs)(j,{className:"",children:[(0,s.jsx)(S,{children:"Enter the desired target id"}),(0,s.jsx)(v,{children:(0,s.jsxs)(w,{children:[(0,s.jsx)(_,{children:"ID"}),(0,s.jsx)(_,{className:"",children:"Organism"}),(0,s.jsx)(_,{children:"Preferred Name"}),(0,s.jsx)(_,{children:"Target ChEMBL ID"})]})}),(0,s.jsx)(N,{children:H.map((e,r)=>(0,s.jsxs)(w,{children:[(0,s.jsx)(k,{children:r}),(0,s.jsx)(k,{children:e.organism}),(0,s.jsx)(k,{className:"w-5",children:e.pref_name}),(0,s.jsx)(k,{children:e.target_chembl_id})]},r))})]}):(0,s.jsx)("div",{className:"flex flex-col items-center border-black",children:"first fill the pervious tab"}),(0,s.jsxs)("div",{id:"inputTarger",className:"flex flex-col itmes-center justify-center space-y-2",children:[(0,s.jsx)(u,{className:"flex itmes-center",onChange:e=>m(e.target.value)}),(0,s.jsx)(g,{size:"sm",onClick:()=>E(x),children:"submit"})]})]}),(0,s.jsxs)(f,{className:"flex flex-col items-center mt-4",value:"cpdb",children:[y?t||(0,s.jsxs)(j,{children:[(0,s.jsx)(S,{children:"Enter the desired pdb id"}),(0,s.jsx)(v,{children:(0,s.jsxs)(w,{children:[(0,s.jsx)(_,{children:"ID"}),(0,s.jsx)(_,{children:"pdb id"}),(0,s.jsx)(_,{children:"method"}),(0,s.jsx)(_,{children:"resolution"}),(0,s.jsx)(_,{children:"length"}),(0,s.jsx)(_,{children:"chanin numbers"})]})}),(0,s.jsx)(N,{children:A.map((e,r)=>(0,s.jsxs)(w,{children:[(0,s.jsx)(k,{children:r}),(0,s.jsx)(k,{className:"font-medium",children:e.pdb_id}),(0,s.jsx)(k,{children:e.method}),(0,s.jsx)(k,{children:e.resolution}),(0,s.jsx)(k,{children:e.length}),(0,s.jsx)(k,{children:e.num_chains})]},r))})]}):(0,s.jsx)("div",{className:"flex items-center",children:"Enter pdb id"}),(0,s.jsxs)("section",{className:"flex flex-col border-black",children:[(0,s.jsx)(u,{onChange:e=>O(e.target.value)}),(0,s.jsx)(g,{onClick:()=>P(C),children:"submit"})]})]}),(0,s.jsx)(f,{value:"ligands",children:(0,s.jsxs)("section",{children:[J?(0,s.jsx)("div",{className:"flex items-center",children:"Loading..."}):(0,s.jsx)("div",{className:" flex flex-col items-center",children:G&&(null===(e=Object)||void 0===e?void 0:e.keys(G).map(e=>(0,s.jsxs)("div",{className:"flex flex-wrap",children:[(0,s.jsxs)("strong",{className:"font-mono",children:[e,": \xa0 "]})," ",(0,s.jsx)("h1",{className:" text-black",children:G[e]})]},e)))}),(0,s.jsxs)("div",{className:"mt-6 flex flex-col items-center space-y-2",children:[(0,s.jsx)("p",{children:" Enter the smiles "}),(0,s.jsx)(u,{className:"border-black",onChange:e=>L(e.target.value)}),(0,s.jsx)(g,{onClick:()=>F(T),children:"Submit"})]})]})}),(0,s.jsx)(f,{value:"drugs",children:(0,s.jsx)("div",{className:"mt-4 flex flex-col items-center",children:D?K?(0,s.jsxs)(j,{children:[(0,s.jsx)(v,{children:(0,s.jsxs)(w,{children:[(0,s.jsx)(_,{children:"id"}),(0,s.jsx)(_,{children:"smiles"}),(0,s.jsx)(_,{children:"score"})]})}),(0,s.jsx)(N,{children:$.map((e,r)=>(0,s.jsxs)(w,{children:[(0,s.jsx)(k,{children:e.id}),(0,s.jsx)(k,{children:e.S_method}),(0,s.jsx)(k,{children:e.Phase}),(0,s.jsx)(k,{children:e.SMILES}),(0,s.jsx)(k,{className:"font-bold",children:e.score})]},r))})]}):(0,s.jsxs)("div",{children:["Loading... ",(0,s.jsx)("br",{})," This might take upto 20 mins"]}):"enter smile"})})]})})}}},function(e){e.O(0,[144,971,472,744],function(){return e(e.s=6986)}),_N_E=e.O()}]);