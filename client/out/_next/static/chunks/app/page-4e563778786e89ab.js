(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6986:function(e,r,t){Promise.resolve().then(t.bind(t,8768))},8768:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return Home}});var s=t(7437),l=t(2265),a=t(9733),n=t(7042),i=t(3986);function cn(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,i.m)((0,n.W)(r))}let c=a.fC,d=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)(a.aV,{ref:r,className:cn("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...l})});d.displayName=a.aV.displayName;let o=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)(a.xz,{ref:r,className:cn("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...l})});o.displayName=a.xz.displayName;let f=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)(a.VY,{ref:r,className:cn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...l})});f.displayName=a.VY.displayName;let u=l.forwardRef((e,r)=>{let{className:t,type:l,...a}=e;return(0,s.jsx)("input",{type:l,className:cn("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...a})});u.displayName="Input";var x=t(7256),h=t(6061);let m=(0,h.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),g=l.forwardRef((e,r)=>{let{className:t,variant:l,size:a,asChild:n=!1,...i}=e,c=n?x.g7:"button";return(0,s.jsx)(c,{className:cn(m({variant:l,size:a,className:t})),ref:r,...i})});g.displayName="Button";var p=t(9222),b=t(2333);let j=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:r,className:cn("w-full caption-bottom text-sm",t),...l})})});j.displayName="Table";let v=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("thead",{ref:r,className:cn("[&_tr]:border-b",t),...l})});v.displayName="TableHeader";let N=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("tbody",{ref:r,className:cn("[&_tr:last-child]:border-0",t),...l})});N.displayName="TableBody";let y=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("tfoot",{ref:r,className:cn("bg-primary font-medium text-primary-foreground",t),...l})});y.displayName="TableFooter";let w=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("tr",{ref:r,className:cn("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...l})});w.displayName="TableRow";let _=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("th",{ref:r,className:cn("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...l})});_.displayName="TableHead";let k=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("td",{ref:r,className:cn("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...l})});k.displayName="TableCell";let S=l.forwardRef((e,r)=>{let{className:t,...l}=e;return(0,s.jsx)("caption",{ref:r,className:cn("mt-4 text-sm text-muted-foreground",t),...l})});S.displayName="TableCaption";var E=t(7283);let R=l.forwardRef((e,r)=>{let{className:t,children:l,...a}=e;return(0,s.jsxs)(E.fC,{ref:r,className:cn("relative overflow-hidden",t),...a,children:[(0,s.jsx)(E.l_,{className:"h-full w-full rounded-[inherit]",children:l}),(0,s.jsx)(C,{}),(0,s.jsx)(E.Ns,{})]})});R.displayName=E.fC.displayName;let C=l.forwardRef((e,r)=>{let{className:t,orientation:l="vertical",...a}=e;return(0,s.jsx)(E.gb,{ref:r,orientation:l,className:cn("flex touch-none select-none transition-colors","vertical"===l&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===l&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...a,children:(0,s.jsx)(E.q4,{className:cn("relative rounded-full bg-border","vertical"===l&&"flex-1")})})});C.displayName=E.gb.displayName;let fetcher=e=>p.Z.get(e).then(e=>e.data);function convertDrugsData(e){if(null==e)return[];let{SMILES_ID:r,SMILES_data:t,Molecule_ID:s,Score:l}=e,a=[];for(let e in r)if(t.hasOwnProperty(e)&&s.hasOwnProperty(e)&&l.hasOwnProperty(e)){let r={id:e,SMILES:t[e],moleculeId:s[e],score:l[e]};a.push(r)}return a}function Home(){var e;let r,t;let[a,n]=(0,l.useState)(""),[i,x]=(0,l.useState)(""),[h,m]=(0,l.useState)(""),[y,E]=(0,l.useState)(""),[C,I]=(0,l.useState)(""),[O,T]=(0,l.useState)(""),[L,D]=(0,l.useState)(""),[F,P]=(0,l.useState)(""),[z,V]=(0,l.useState)(""),{data:Z,error:H,isLoading:B}=(0,b.ZP)(z?null:i&&"/api/target/".concat(i),fetcher,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1}),[M,Y]=(0,l.useState)([]);console.log(Z),(0,l.useEffect)(()=>{if(Z){let e=function(e){let r=Object.keys(e.organism).map(r=>({organism:e.organism[r],pref_name:e.pref_name[r],target_chembl_id:e.target_chembl_id[r]}));return r}(Z);Y(e)}},[Z]);let{data:q,error:A,isLoading:W}=(0,b.ZP)(z?null:C&&"/api/".concat(i,"/pdb/").concat(C),fetcher,{revalidateIfStale:!1}),[G,J]=(0,l.useState)([]),{data:K,error:Q,isLoading:U}=(0,b.ZP)(z?null:L&&"/api/pdb/".concat(L),fetcher,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1}),[X,$]=(0,l.useState)(null),[ee,er]=(0,l.useState)(null);(0,l.useEffect)(()=>{z&&p.Z.get("/api/smiles/".concat(z)).then(e=>{er(e.data.job_id)}).catch(e=>{console.error("Error triggering processing:",e)})},[z]),(0,l.useEffect)(()=>{if(ee){let e=setInterval(()=>{p.Z.get("/api/results/".concat(ee)).then(r=>{200===r.status&&(clearInterval(e),$(r.data))}).catch(r=>{clearInterval(e),console.error("Error fetching result:",r)})},5e3);return()=>clearInterval(e)}},[ee]);let[et,es]=(0,l.useState)([]);return(0,l.useEffect)(()=>{if(X){let e=convertDrugsData(X);e.sort((e,r)=>parseFloat(r.score)-parseFloat(e.score)),es(e)}},[X]),(0,l.useEffect)(()=>{if(q){let e=function(e){if(!e.pdb_id)return[];let r=Object.keys(e.pdb_id).map(r=>({pdb_id:e.pdb_id[r],method:e.method[r],resolution:e.resolution[r],length:e.length[r],num_chains:e.num_chains[r]}));return r}(q);e.sort((e,r)=>{let t=parseFloat(e.resolution),s=parseFloat(r.resolution),l=parseFloat(e.length),a=parseFloat(r.length);return isNaN(t)?1:isNaN(s)||l>a?-1:l<a?1:t<s?-1:t>s?1:0}),J(e)}},[q]),console.log(convertDrugsData(X)),B&&(r=(0,s.jsx)("div",{children:"Loading..."})),H&&(r=(0,s.jsxs)("div",{children:["Error: ",H.message]})),W&&(t=(0,s.jsx)("div",{children:"Loading..."})),A&&(t=(0,s.jsxs)("div",{children:["Error: ",A.message]})),console.log(X),console.log(et),(0,s.jsx)("main",{className:"flex h-3/4 max-w-screen flex-col items-center font-serif",children:(0,s.jsxs)(c,{defaultValue:"etarget",className:" p-10 flex flex-col overflow-x-visible",children:[(0,s.jsx)(d,{className:" font-extralight border-black",children:(0,s.jsxs)(R,{className:"border-black",children:[(0,s.jsx)(o,{value:"etarget",children:"Enter Target"}),(0,s.jsx)(o,{value:"ctarget",children:"choose one"}),(0,s.jsx)(o,{value:"cpdb",children:"Choose pdb"}),(0,s.jsx)(o,{value:"ligands",children:"Select ligands"}),(0,s.jsx)(o,{value:"drugs",children:"result"})]})}),(0,s.jsx)(f,{value:"etarget",children:(0,s.jsxs)("div",{className:"mt-4 flex flex-col",children:[(0,s.jsx)("p",{className:"text-center",children:"Enter target name "}),(0,s.jsx)(u,{className:"w-25 border-slate-950",placeholder:"Enter target",value:a,onChange:e=>n(e.target.value)}),(0,s.jsx)(g,{className:"flex-none",size:"sm",onClick:()=>x(a),children:"submit"})]})}),(0,s.jsxs)(f,{className:" flex flex-col itmes-center mt-4",value:"ctarget",children:[i?r||(0,s.jsxs)(j,{className:"",children:[(0,s.jsx)(S,{children:"Enter the desired target id"}),(0,s.jsx)(v,{children:(0,s.jsxs)(w,{children:[(0,s.jsx)(_,{children:"ID"}),(0,s.jsx)(_,{className:"",children:"Organism"}),(0,s.jsx)(_,{children:"Preferred Name"}),(0,s.jsx)(_,{children:"Target ChEMBL ID"})]})}),(0,s.jsx)(N,{children:M.map((e,r)=>(0,s.jsxs)(w,{children:[(0,s.jsx)(k,{children:r}),(0,s.jsx)(k,{children:e.organism}),(0,s.jsx)(k,{className:"w-5",children:e.pref_name}),(0,s.jsx)(k,{children:e.target_chembl_id})]},r))})]}):(0,s.jsx)("div",{className:"flex flex-col items-center border-black",children:"first fill the pervious tab"}),(0,s.jsxs)("div",{id:"inputTarger",className:"flex flex-col itmes-center justify-center space-y-2",children:[(0,s.jsx)(u,{className:"flex itmes-center",onChange:e=>E(e.target.value)}),(0,s.jsx)(g,{size:"sm",onClick:()=>I(y),children:"submit"})]})]}),(0,s.jsxs)(f,{className:"flex flex-col items-center mt-4",value:"cpdb",children:[C?t||(0,s.jsxs)(j,{children:[(0,s.jsx)(S,{children:"Enter the desired pdb id"}),(0,s.jsx)(v,{children:(0,s.jsxs)(w,{children:[(0,s.jsx)(_,{children:"ID"}),(0,s.jsx)(_,{children:"pdb id"}),(0,s.jsx)(_,{children:"method"}),(0,s.jsx)(_,{children:"resolution"}),(0,s.jsx)(_,{children:"length"}),(0,s.jsx)(_,{children:"chanin numbers"})]})}),(0,s.jsx)(N,{children:G.map((e,r)=>(0,s.jsxs)(w,{children:[(0,s.jsx)(k,{children:r}),(0,s.jsx)(k,{className:"font-medium",children:e.pdb_id}),(0,s.jsx)(k,{children:e.method}),(0,s.jsx)(k,{children:e.resolution}),(0,s.jsx)(k,{children:e.length}),(0,s.jsx)(k,{children:e.num_chains})]},r))})]}):(0,s.jsx)("div",{className:"flex items-center",children:"Enter pdb id"}),(0,s.jsxs)("section",{className:"flex flex-col border-black",children:[(0,s.jsx)(u,{onChange:e=>T(e.target.value)}),(0,s.jsx)(g,{onClick:()=>D(O),children:"submit"})]})]}),(0,s.jsx)(f,{value:"ligands",children:(0,s.jsxs)("section",{children:[U?(0,s.jsx)("div",{className:"flex items-center",children:"Loading..."}):(0,s.jsx)("div",{className:" flex flex-col items-center",children:K&&(null===(e=Object)||void 0===e?void 0:e.keys(K).map(e=>(0,s.jsxs)("div",{className:"flex flex-wrap",children:[(0,s.jsxs)("strong",{className:"font-mono",children:[e,": \xa0 "]})," ",(0,s.jsx)("h1",{className:" text-black",children:K[e]})]},e)))}),(0,s.jsxs)("div",{className:"mt-6 flex flex-col items-center space-y-2",children:[(0,s.jsx)("p",{children:" Enter the smiles "}),(0,s.jsx)(u,{className:"border-black",onChange:e=>P(e.target.value)}),(0,s.jsx)(g,{onClick:()=>V(F),children:"Submit"})]})]})}),(0,s.jsx)(f,{value:"drugs",children:(0,s.jsx)("div",{className:"mt-4 flex flex-col items-center",children:z?X?(0,s.jsxs)(j,{children:[(0,s.jsx)(v,{children:(0,s.jsxs)(w,{children:[(0,s.jsx)(_,{children:"id"}),(0,s.jsx)(_,{children:"smiles"}),(0,s.jsx)(_,{children:"score"})]})}),(0,s.jsx)(N,{children:et.map((e,r)=>(0,s.jsxs)(w,{children:[(0,s.jsx)(k,{children:e.id}),(0,s.jsx)(k,{children:e.SMILES}),(0,s.jsx)(k,{className:"font-bold",children:e.score})]},r))})]}):(0,s.jsxs)("div",{children:["Loading... ",(0,s.jsx)("br",{})," This might take upto 20 mins"]}):"enter smile"})})]})})}}},function(e){e.O(0,[144,971,472,744],function(){return e(e.s=6986)}),_N_E=e.O()}]);